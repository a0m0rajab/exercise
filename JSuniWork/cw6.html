<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Compare Array and Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="https://www.w3schools.com/w3css/4/w3.css" />
    <script src="HW2/Database.js"></script>
</head>

<body>

    <form>
        Comparing between ARRAY and MAP:
        <br>
        <input type="button" onclick="show()" value="Compare">
    </form>

    <p id="myData"></p>
</body>

<script>

    function show() {
        let p = document.getElementById("myData");
        // p.innerText = "test " + Math.floor(Math.random() * 1000000000);
        let randmoNumber;
        let counterMap = 0;
        let counterArr = 0;

        // p.innerText = "random Student = " + randmoNumber;
        let keys = Array.from(db.stumap.keys());
        let max = 716363208
        let min = 116690070
        let arrPerf = 0;
        let mapPerf = 0;
        let t = performance.now()
        for (let index = 0; index < 10000; index++) {
            // randmoNumber = Math.random() * (max - min) + min;
            randmoNumber = "116690" + String(Math.random()).substring(2, 5);
            t = performance.now()
            if (keys.includes(String(randmoNumber)))
                counterArr++
            arrPerf += performance.now() - t

            t = performance.now()
            if (db.stumap.has(String(randmoNumber))) {
                counterMap++

            }
            mapPerf += performance.now() - t
        }





        p.innerText += "\n array performance(msc)=" + arrPerf.toPrecision(3) +
            "\n map performance(msc)=" + mapPerf.toPrecision(3) +
            "\nMap found " + counterMap + 
            "\nArray found " + counterArr +
            "\nRatio:(map/array)" +
            (arrPerf.toPrecision(3) / mapPerf.toPrecision(3))
            +"\n";




    };




</script>

</html>